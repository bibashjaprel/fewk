(function() {

  // all the polygons that will animate

  // left arm
  var poly0 = Snap('#arm-left-whole');
  var poly1 = Snap('#arm-left');
  // eyes
  var poly2 = Snap('#eye-left');
  var poly3 = Snap('#eye-right');
  // left hand
  var poly4 = Snap('#hand-left');
  var poly5 = Snap('#hand-left-whole');
  var poly6 = Snap('#wrist-left');
  // bag
  var poly7 = Snap('#bag');
  // right arm
  var poly8 = Snap('#arm-right-whole');
  var poly9 = Snap('#arm-right');
  var poly10 = Snap('#arm-right-highlight');
  var poly11 = Snap('#shoulder');
  var poly12 = Snap('#sleeve');
  // right hand
  var poly13 = Snap('#hand-right');
  var poly14 = Snap('#hand-right-wrist');
  var poly15 = Snap('#hand-right-1');
  var poly16 = Snap('#hand-right-2');
  // alert
  var poly17 = Snap('#bubble');
  var poly18 = Snap('#bubble-shadow');
  var poly19 = Snap('#exclaim-mark');

  // event handler - on click trigger
  var robbie = $('#robbie-robot');

  var morph01 = true; //screen-1
  var morph02 = false; //screen-2
  var morph03 = false; //screen-3

    
  robbie.on('click', function() {
    if (morph01) {
      // if robbie is on screen-0, move him to screen-1

      //move robbie's right eye
      poly3.animate({
        d: "M75.5029823,75.3623506 C76.3859823,77.6743506 77.2699823,79.9863506 78.1529823,82.2983506 C79.0439823,84.6303506 82.8329823,83.6183506 81.9309823,81.2563506 C81.0479823,78.9443506 80.1639823,76.6323506 79.2809823,74.3203506 C78.3909823,71.9893506 74.6009823,73.0013506 75.5029823,75.3623506 L75.5029823,75.3623506 L75.5029823,75.3623506 Z",
        fill: "#000000"
      }, 75, mina.easein);
      //move robbie's left eye
      poly2.animate({
        d: "M42.9251258,76.1198655 C42.1711258,78.4768655 41.4171258,80.8348655 40.6621258,83.1918655 C39.8921258,85.5988655 43.6741258,86.6298655 44.4401258,84.2338655 C45.1941258,81.8768655 45.9481258,79.5188655 46.7031258,77.1618655 C47.4731258,74.7538655 43.6911258,73.7238655 42.9251258,76.1198655 L42.9251258,76.1198655 L42.9251258,76.1198655 Z",
        fill: "#000000",
        transform: "translate(43.682626, 80.176723) rotate(-39.000000) translate(-43.682626, -80.176723) "
      }, 70, mina.easein);

      //move robbie's left arm
      poly0.animate({
        transform: "translate(11.000000, 235.000000)"
      }, 20, mina.easein);
      poly1.animate({
        d: "M20.1970652,76.0802369 L32.6593118,78.7873673 C32.659312,78.7873673 44.4540768,38.4826531 94.628,12.085 C94.628,12.084 91.062,1.399 84.432,0.539 C84.432,0.539 32.4199684,32.0381493 20.1970652,76.0802369 Z"
      }, 0, mina.easein);

      // move robbie's left hand
      poly4.animate({
        transform: "translate(22.833588, 91.349898) rotate(-295.000000) translate(-22.833588, -91.349898) translate(6.333588, 73.849898)"
      }, 20, mina.easein);
      poly5.animate({
        d: "M4.35623925,9.32445881 C4.0896388,8.71153918 4.2716378,7.93690313 4.915,7.554 C8.62,5.348 12.324,3.142 16.029,0.936 C16.451,0.685 17.014,0.68 17.436,0.936 C22.212,3.832 26.989,6.729 31.765,9.626 C32.169,9.871 32.484,10.342 32.456,10.83 L31.724,23.745 C31.666,24.768 30.574,25.524 29.626,24.949 C28.441,24.23 27.256,23.512 26.071,22.793 C25.543,22.473 25.263,21.822 25.43,21.219 C26.611,16.966 24.76,13.359 21.229,10.927 C20.5477098,10.4579757 20.4820298,9.6873755 20.7551094,9.09712436 C21.1537105,9.28111997 21.5470894,9.48993894 21.933,9.724 C22.3203281,9.9588861 22.6885903,10.2122148 23.0371112,10.4817737 C22.6573021,11.0040705 21.9620947,11.3099255 21.229,10.927 C17.5381808,8.99960491 13.5542894,8.91162289 10.337481,11.7402472 C10.3102963,11.8924048 10.2563093,12.0414697 10.173,12.181 C7.931,15.93 8.665,19.903 11.39,23.227 C11.9116074,23.8631855 11.7734356,24.6287228 11.3614694,25.1314141 C11.0299082,24.8474187 10.7100057,24.5412129 10.404,24.213 C10.0939734,23.8804743 9.80746981,23.5353005 9.54453863,23.1798151 C10.0437399,22.772048 10.7883882,22.6590674 11.39,23.227 C14.468,26.132 18.362,27.328 22.305,25.33 C22.847,25.055 23.555,25.076 23.995,25.548 C24.94,26.562 25.885,27.575 26.83,28.589 C27.535,29.344 27.257,30.64 26.215,30.919 C22.05,32.035 17.886,33.152 13.721,34.268 C13.253,34.393 12.702,34.271 12.365,33.909 C8.555,29.823 4.746,25.738 0.936,21.652 C0.61,21.302 0.414,20.769 0.577,20.295 C1.83642296,16.6378295 3.09665057,12.9814636 4.35623925,9.32445881 Z M24.7611977,28.4135179 L25.2775382,28.9673773 C25.3423588,28.7218393 25.4071794,28.4763697 25.472,28.231 C25.2379709,28.2937004 25.0008812,28.3543962 24.7611977,28.4135179 Z M25.0618362,29.784658 L24.3189719,29.9837817 C24.4983146,30.1761609 24.6776573,30.3685625 24.857,30.561 C24.9252787,30.302207 24.9935574,30.043414 25.0618362,29.784658 Z M28.9699281,22.922764 L29.6507839,23.3356825 C29.4117924,23.4728519 29.1728378,23.6099843 28.934,23.747 C28.9493531,23.4761328 28.9610534,23.2011673 28.9699281,22.922764 Z M30.375902,22.9194871 L30.4183397,22.1707401 C30.6228931,22.2948038 30.8274466,22.418887 31.032,22.543 C30.8133781,22.6684183 30.5946584,22.7939344 30.375902,22.9194871 Z"
      }, 20, mina.easein);
      poly6.animate({
        d: "M6.806,16.357 C8.524,14.149 13.282,8.04 13.52,7.745 C13.929,7.238 14.49,7.059 15.021,7.136 C15.25,7.169 19.773,7.792 23.154,8.261 C22.566,6.813 22.131,5.739 22.131,5.739 C21.842,5.091 21.448,4.784 20.801,4.693 C18.041,4.305 10.252,3.233 9.949,3.189 C9.418,3.112 8.857,3.291 8.448,3.798 C8.209,4.094 3.452,10.202 1.734,12.41 C1.353,12.9 1.261,13.542 1.492,14.108 C2.548,16.704 5.505,23.972 5.619,24.263 C5.833,24.801 6.298,25.155 6.856,25.232 C7.527,25.325 8.521,25.464 9.641,25.619 C8.653,23.187 7.231,19.692 6.565,18.055 C6.333,17.488 6.425,16.847 6.806,16.357 L6.806,16.357 Z"
      }, 20, mina.easein);
      // poly7.animate({transform:"translate(80.000000, 324.000000)"}, 100, mina.easein);
      // var morph01 = false; 
      morph01 = false;
      morph02 = true;

    } else if (morph02) {

      //move robbie's left arm
      poly0.animate({
        transform: "translate(72.000000, 235.000000)"
      }, 50, mina.easein);
      poly1.animate({
        d: "M26.0787907,82.6053147 L32.8113315,73.8469224 C32.8113315,73.8469224 -7.709,44.186 33.628,12.085 C33.628,12.084 30.062,1.399 23.432,0.539 C23.432,0.539 -29.3672093,45.5023147 26.0787907,82.6053147 Z"
      }, 0, mina.easein);

      // move robbie's left hand
      poly4.animate({
        transform: "translate(24.000000, 70.000000)"
      }, 20, mina.easein);
      poly5.animate({
        d: "M4.35623925,9.32445881 C4.0896388,8.71153918 4.2716378,7.93690313 4.915,7.554 C8.62,5.348 12.324,3.142 16.029,0.936 C16.451,0.685 17.014,0.68 17.436,0.936 C22.212,3.832 26.989,6.729 31.765,9.626 C32.169,9.871 32.484,10.342 32.456,10.83 L31.724,23.745 C31.666,24.768 30.574,25.524 29.626,24.949 C28.441,24.23 27.256,23.512 26.071,22.793 C25.543,22.473 25.263,21.822 25.43,21.219 C26.611,16.966 24.76,13.359 21.229,10.927 C20.5477098,10.4579757 20.4820298,9.6873755 20.7551094,9.09712436 C21.1537105,9.28111997 21.5470894,9.48993894 21.933,9.724 C22.3203281,9.9588861 22.6885903,10.2122148 23.0371112,10.4817737 C22.6573021,11.0040705 21.9620947,11.3099255 21.229,10.927 C17.5381808,8.99960491 13.5542894,8.91162289 10.337481,11.7402472 C10.3102963,11.8924048 10.2563093,12.0414697 10.173,12.181 C7.931,15.93 8.665,19.903 11.39,23.227 C11.9116074,23.8631855 11.7734356,24.6287228 11.3614694,25.1314141 C11.0299082,24.8474187 10.7100057,24.5412129 10.404,24.213 C10.0939734,23.8804743 9.80746981,23.5353005 9.54453863,23.1798151 C10.0437399,22.772048 10.7883882,22.6590674 11.39,23.227 C14.468,26.132 18.362,27.328 22.305,25.33 C22.847,25.055 23.555,25.076 23.995,25.548 C24.94,26.562 25.885,27.575 26.83,28.589 C27.535,29.344 27.257,30.64 26.215,30.919 C22.05,32.035 17.886,33.152 13.721,34.268 C13.253,34.393 12.702,34.271 12.365,33.909 C8.555,29.823 4.746,25.738 0.936,21.652 C0.61,21.302 0.414,20.769 0.577,20.295 C1.83642296,16.6378295 3.09665057,12.9814636 4.35623925,9.32445881 Z M24.7611977,28.4135179 L25.2775382,28.9673773 C25.3423588,28.7218393 25.4071794,28.4763697 25.472,28.231 C25.2379709,28.2937004 25.0008812,28.3543962 24.7611977,28.4135179 Z M25.0618362,29.784658 L24.3189719,29.9837817 C24.4983146,30.1761609 24.6776573,30.3685625 24.857,30.561 C24.9252787,30.302207 24.9935574,30.043414 25.0618362,29.784658 Z M28.9699281,22.922764 L29.6507839,23.3356825 C29.4117924,23.4728519 29.1728378,23.6099843 28.934,23.747 C28.9493531,23.4761328 28.9610534,23.2011673 28.9699281,22.922764 Z M30.375902,22.9194871 L30.4183397,22.1707401 C30.6228931,22.2948038 30.8274466,22.418887 31.032,22.543 C30.8133781,22.6684183 30.5946584,22.7939344 30.375902,22.9194871 Z"
      }, 20, mina.easein);
      poly6.animate({
        d: "M6.806,16.357 C8.524,14.149 13.282,8.04 13.52,7.745 C13.929,7.238 14.49,7.059 15.021,7.136 C15.25,7.169 19.773,7.792 23.154,8.261 C22.566,6.813 22.131,5.739 22.131,5.739 C21.842,5.091 21.448,4.784 20.801,4.693 C18.041,4.305 10.252,3.233 9.949,3.189 C9.418,3.112 8.857,3.291 8.448,3.798 C8.209,4.094 3.452,10.202 1.734,12.41 C1.353,12.9 1.261,13.542 1.492,14.108 C2.548,16.704 5.505,23.972 5.619,24.263 C5.833,24.801 6.298,25.155 6.856,25.232 C7.527,25.325 8.521,25.464 9.641,25.619 C8.653,23.187 7.231,19.692 6.565,18.055 C6.333,17.488 6.425,16.847 6.806,16.357 L6.806,16.357 Z"
      }, 20, mina.easein);

      // move bag
      poly7.animate({
        transform: "translate(85.000000, 327.000000)"
      }, 60, mina.easein);

      // move robbie's eyes
      poly2.animate({
        d: "M85.8917172,65.1538023 C85.1217172,67.5608023 88.9037172,68.5918023 89.6697172,66.1958023 C90.4237172,63.8388023 91.1777172,61.4808023 91.9327172,59.1238023 C92.7027172,56.7158023 88.9207172,55.6858023 88.1547172,58.0818023 C87.4007172,60.4388023 86.6467172,62.7968023 85.8917172,65.1538023 Z",
        transform: "translate(88.912217, 62.138660) rotate(-41.000000) translate(-88.912217, -62.138660)"
      }, 500, mina.easein);
      poly3.animate({
        d: "M122.787731,62.2983506 C123.678731,64.6303506 127.467731,63.6183506 126.565731,61.2563506 C125.682731,58.9443506 124.798731,56.6323506 123.915731,54.3203506 C123.025731,51.9893506 119.235731,53.0013506 120.137731,55.3623506 C121.020731,57.6743506 121.904731,59.9863506 122.787731,62.2983506 Z",
        transform: "translate(123.351746, 58.309709) rotate(-4.000000) translate(-123.351746, -58.309709)"
      }, 500, mina.easein);

            // make alert visible
      poly17.animate({
        opacity: "1"
      }, 200, mina.easein);
      poly18.animate({
        opacity: "1"
      }, 500, mina.linear);
      poly19.animate({
        opacity: "1"
      }, 300, mina.easein);
      
      
      // move robbie's right arm
      poly8.animate({
        transform: "translate(270.000000, 167.000000)"
      }, 20, mina.easein);
      poly9.animate({
        d: "M31.796,70.137 C31.796,70.137 83.694,68.079 112.538,5.142 L99.012,0.497 C99.012,0.497 74.942,52.896 32.256,51.937 L31.796,70.137 L31.796,70.137 Z"
      }, 20, mina.easein);
      poly10.animate({
        d: "M34.34,63.207 C34.34,63.207 81.349,59.303 105.041,4.397 L108.847,5.797 C108.847,5.797 88.044,60.124 32.802,67.456 L32.982,62.969 L34.34,63.207 L34.34,63.207 Z"
      }, 20, mina.easein);
      poly11.animate({
        transform:"translate(50.524865, 73.770307) rotate(-78.027002) translate(-16.524865, -61.770307)",
      }, 20, mina.easein);
      poly12.animate({
        d:"M7.318,11.119 C7.318,11.119 1.993,11.187 0.33,17.29 L13.935,32.696 C13.935,32.696 20.193,32.963 21.24,26.245 L8.593,11.923 L7.318,11.119 L7.318,11.119 Z", transform:"translate(35.0497,37.5406) rotate(40.000000)"
      }, 20, mina.easein);



      // move robbie's right hand
      poly13.animate({
        transform: "translate(365.000000, 141.000000)"
      }, 20, mina.easein);
      poly14.animate({
        d: "M18.246,27.509 C15.725,26.013 8.751,21.868 8.413,21.659 C7.833,21.301 7.573,20.741 7.583,20.179 C7.587,19.936 7.642,15.153 7.686,11.577 C6.258,12.378 5.198,12.972 5.198,12.972 C4.563,13.357 4.295,13.807 4.285,14.492 C4.243,17.412 4.151,25.65 4.145,25.97 C4.135,26.532 4.394,27.092 4.975,27.45 C5.314,27.659 12.287,31.804 14.808,33.3 C15.367,33.632 16.046,33.643 16.605,33.329 C19.165,31.891 26.332,27.864 26.62,27.707 C27.151,27.414 27.458,26.884 27.465,26.294 C27.474,25.584 27.487,24.533 27.502,23.349 C25.104,24.695 21.657,26.632 20.042,27.539 C19.485,27.852 18.805,27.841 18.246,27.509 L18.246,27.509 Z"
      }, 20, mina.easein);
      poly15.animate({
        d: "M24.4647877,23.3144922 C24.8037812,22.9915431 25.1286861,22.644923 25.437,22.275 C25.7442987,21.9062951 26.0258588,21.5255534 26.2817678,21.1352762 C25.7621957,20.7071012 25.0003665,20.6058449 24.404,21.242 C21.408,24.44 17.347,26.064 13.124,24.176 C12.571,23.929 11.793,23.877 11.354,24.404 C10.424,25.519 9.495,26.635 8.565,27.75 C7.916,28.529 8.043,29.948 9.21,30.192 C13.632,31.117 18.054,32.043 22.476,32.968 C22.958,33.069 23.557,33 23.897,32.592 C27.644,28.096 31.392,23.6 35.139,19.104 C35.449,18.732 35.718,18.181 35.515,17.683 C33.808,13.5 32.101,9.317 30.395,5.134 C30.025,4.227 28.736,3.55 27.953,4.489 C27.023,5.604 26.094,6.72 25.164,7.835 C24.768,8.311 24.553,9.04 24.936,9.605 C27.619,13.573 26.923,17.779 24.177,21.537 C23.6654673,22.2368468 23.9266441,22.923762 24.4647877,23.3144922 Z M10.661854,27.5054806 L10.1767199,28.0875024 C10.1138133,27.8493349 10.0509066,27.6111675 9.988,27.373 C10.2086959,27.4191894 10.4334934,27.463211 10.661854,27.5054806 Z M10.4050833,28.9520969 L11.211736,29.1208944 C11.0188551,29.3522941 10.8259491,29.5836686 10.633,29.815 C10.5570278,29.5273656 10.4810556,29.2397313 10.4050833,28.9520969 Z M29.6083091,7.04871596 L29.3328191,6.37349644 C29.5618794,6.43399763 29.7909397,6.49449881 30.02,6.555 C29.8827501,6.71955235 29.7455219,6.88412648 29.6083091,7.04871596 Z M28.4653891,6.14438409 L27.9220461,6.79623983 C27.8096301,6.49322816 27.6952449,6.19725407 27.578,5.91 C27.8737964,5.98812803 28.1695927,6.06625606 28.4653891,6.14438409 Z"
      }, 20, mina.easein);
      poly16.animate({
        d: "M10.7893536,30.5224105 C10.2209965,30.8548355 9.3678787,30.8228575 8.969,30.312 C8.88212917,30.2006528 8.79525834,30.0893066 8.70838751,29.9779612 C8.51238835,29.8382942 8.37260987,29.649506 8.28550959,29.4359511 C5.73433973,26.1661119 3.18316986,22.8969774 0.632,19.627 C0.191,19.062 0.106,18.526 0.404,17.857 C2.789,12.511 5.173,7.166 7.558,1.821 C7.771,1.342 8.341,1.13 8.819,1.097 C13.326,0.786 17.833,0.475 22.34,0.164 C23.555,0.08 24.012,1.441 23.601,2.362 C23.009,3.688 22.418,5.014 21.826,6.34 C21.545,6.968 20.764,7.097 20.176,7.011 C15.594,6.34 12.136,9.044 10.125,12.929 C9.72415828,13.7029115 8.96895587,13.801738 8.35909285,13.5193099 C8.49945227,13.0735213 8.66716545,12.6299518 8.863,12.191 C9.05902682,11.7516172 9.27731478,11.3301169 9.51556064,10.927532 C10.1383103,11.1668197 10.5754718,11.7671849 10.273,12.581 C8.69415078,16.8285322 9.12283957,20.9427956 12.5119561,24.0076561 C12.7271071,24.0320667 12.9382469,24.0930325 13.124,24.176 C17.347,26.064 21.408,24.44 24.404,21.242 C25.0003665,20.6058449 25.7621957,20.7071012 26.2817678,21.1352762 C26.0258588,21.5255534 25.7442987,21.9062951 25.437,22.275 C25.1286861,22.644923 24.8037812,22.9915431 24.4647877,23.3144922 C23.9266441,22.923762 23.6654673,22.2368468 24.177,21.537 C26.923,17.779 27.619,13.573 24.936,9.605 C24.553,9.04 24.768,8.311 25.164,7.835 C26.094,6.72 27.023,5.604 27.953,4.489 C28.736,3.55 30.025,4.227 30.395,5.134 C32.101,9.317 33.808,13.5 35.515,17.683 C35.718,18.181 35.449,18.732 35.139,19.104 C31.392,23.6 27.644,28.096 23.897,32.592 C23.557,33 22.958,33.069 22.476,32.968 C18.5804512,32.1531238 14.6849024,31.3374715 10.7893536,30.5224105 Z M27.9220461,6.79623983 L28.4653891,6.14438409 C28.1695927,6.06625606 27.8737964,5.98812803 27.578,5.91 C27.6952449,6.19725407 27.8096301,6.49322816 27.9220461,6.79623983 Z M29.3328191,6.37349644 L29.6083091,7.04871596 C29.7455219,6.88412648 29.8827501,6.71955235 30.02,6.555 C29.7909397,6.49449881 29.5618794,6.43399763 29.3328191,6.37349644 Z M21.6648847,3.13253664 L21.9719836,2.44428905 C22.0947078,2.65814065 22.2173965,2.87202772 22.34,3.086 C22.1149616,3.10150646 21.8899232,3.11701898 21.6648847,3.13253664 Z M21.5330118,1.67954722 L20.7000659,1.73702363 C20.8263447,1.45401575 20.9526496,1.17100788 21.079,0.888 C21.2302387,1.15194761 21.3816071,1.41576556 21.5330118,1.67954722 Z"
      }, 200, mina.easein);

    } else {

    } // end of if/else statement

  }); // end of function  

})() // end of doc ready


// for i = 0, do this, else do the rest of the animation
